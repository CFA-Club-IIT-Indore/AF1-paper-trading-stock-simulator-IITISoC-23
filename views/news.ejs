<%- include('partials/header') %>
<div class="container text-center">
    <div class="row my-3 text-center"  id = "content">
        
    <div class="col-md-4 my-3">
    <div class="card" style="width: 18rem;">
        <img class="card-img-top" src="..." alt="Card image cap">
        <div class="card-body">
          <h5 class="card-title">Card title</h5>
          <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
          <a href="#" class="btn btn-primary">Go somewhere</a>
        </div>
    </div>
    </div>
    </div>
    <div class="d-flex justify-content-between">
        <button type="button" id="pre" class="btn btn-primary">Previous</button>
        <button type="button" id="next" class="btn btn-primary">Next</button>
    </div>
</div>
<script>
  // let query = window.location.search.split('?')[1].split('&')[0].split('=')[1];
  const fetchNews= async()=>{
    let url ="https://newsapi.org/v2/top-headlines?country=in&category=business&apiKey=fcf421dd3a274fb9aa44012a6056280b&q=stocks";
    let a = await fetch(url);
    let r= await a.json();
    let str ="";
    for(let item of r.articles){
      str = str +`
      <div class="col-md-4 my-3">
      <div class="card">
        <img class="card-img-top" src="${item.urlToImage}" alt="Card image cap">
        <div class="card-body">
          <h5 class="card-title">${item.title}</h5>
          <p class="card-text">${item.description}</p>
          <a href="${item.url}" class="btn btn-primary">Read More</a>
        </div>
    </div>
    </div>
      `
    }
    content.innerHTML = str;
  }
  fetchNews();

</script>


<%- include('partials/footer') %>